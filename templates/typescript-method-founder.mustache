/**
* {{&summary}}
* @method
{{#externalDocs}}
* @see {@link {{&url}}|{{#description}}{{&description}}{{/description}}{{^description}}External docs{{/description}}}
{{/externalDocs}}
* @name {{&className}}#{{&actionName}}
{{#parameters}}
    {{^isSingleton}} * @param {{=<% %>=}}{<%&type%>}<%={{ }}=%> {{&camelCaseName}} - {{&description}}{{/isSingleton}}
{{/parameters}}
*/
public async {{&actionName}}(params: {
payload?:
{{#hasPostParams}}
{{#parameters}}
{{#isBodyParameter}}{{> type}}{{/isBodyParameter}}
{{/parameters}},
{{/hasPostParams}}
{{^hasPostParams}}
{},
{{/hasPostParams}}
query?: {
{{#parameters}}
{{#isQueryParameter}}{{^isSingleton}}'{{&camelCaseName}}'{{&cardinality}}: {{> type}},{{/isSingleton}}{{/isQueryParameter}}
{{/parameters}}
},
path?: {
{{#parameters}}
{{#isPathParameter}}'{{&camelCaseName}}'{{&cardinality}}: {{> type}},{{/isPathParameter}}
{{/parameters}}
}
}): Promise< {{#responses}}{{#status200}}{{#tsType}}{{> type}}{{/tsType}}{{/status200}}{{/responses}} > {
    let path = '{{&path}}';
    let body: any;
    let queryParameters: any = {};

{{#parameters}}
    {{#isQueryParameter}}
        {{#isSingleton}}
            queryParameters['{{&name}}'] = '{{&singleton}}';
        {{/isSingleton}}
        {{^isSingleton}}
            {{#isPatternType}}
                Object.keys(params.query).forEach(function(parameterName) {
                    if(new RegExp('{{&pattern}}').test(parameterName)){
                        queryParameters[parameterName] = params.query[parameterName];
                    }
                });
            {{/isPatternType}}
            {{^isPatternType}}
                if(params.query['{{&camelCaseName}}'] !== undefined) {
                    queryParameters['{{&name}}'] = params.query['{{&camelCaseName}}']
                }
            {{/isPatternType}}
        {{/isSingleton}}
    {{/isQueryParameter}}

    {{#isPathParameter}}
        path = path.replace('{{=<% %>=}}{<%&name%>}<%={{ }}=%>', `${params.path['{{&camelCaseName}}']}`);
    {{/isPathParameter}}

    {{#isBodyParameter}}
        if(params.payload !== undefined) {
            body = params.payload;
        }
    {{/isBodyParameter}}
{{/parameters}}

    {{^isBodyParameter}}
        {{#isPOST}}
            queryParameters = {};
        {{/isPOST}}
    {{/isBodyParameter}}

    const result: {{#responses}}{{#status200}}{{#tsType}}{{> type}}{{/tsType}}{{/status200}}{{/responses}} = await this.http.request({method:"{{method}}", url:path, params:queryParameters, payload:body } );
    return result;
}
